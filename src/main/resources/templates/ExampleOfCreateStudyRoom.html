<!DOCTYPE html>
<html>

<head>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-image: url("images/sky4.jpg");
            background-size: 200%;
            background-position: center;
            background-repeat: no-repeat;
        }

        ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #A0B9FA;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }

        li {
            float: right;
        }

        li a {
            display: block;
            color: white;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
        }

        li a:hover {
            text-decoration: underline;
        }

        .sidebar {
            height: 100%;
            width: 200px;
            position: fixed;
            z-index: 3;
            top: 46px;
            left: 0;
            background-color: #f1f1f184;
            overflow-y: auto;
            padding-top: 20px;
            border-right: 2px solid #111;
        }

        .sidebar a {
            position: relative;
            padding: 8px 8px 8px 32px;
            text-decoration: none;
            font-size: 16px;
            color: #000;
            display: block;
            line-height: 2.5;
            transition: 0.3s;

        }

        .sidebar a::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: #111;
            transform: scaleX(0);
            /* Initially hide the line */
            transform-origin: bottom right;
            transition: transform 0.3s ease-in-out;
        }

        .sidebar a:hover::after {
            transform: scaleX(1);
            /* Show the line on hover */
            transform-origin: bottom left;
        }

        /* .task-container {
        display: block;
        padding: 8px;
        border: 1px solid #da0000;
        margin-bottom: 10px;
        border-radius: 5px;
        } */
        .sidebar input {
            width: 80%;
            margin: 10px;
            padding: 8px;
            box-sizing: border-box;
            border-radius: 40px;

        }

        /* Video frame styles */
        .video-frame {
            position: fixed;
            top: 46px;
            right: 0;
            width: 300px;
            height: 200px;
            background-color: #f1f1f1;
            border-left: 2px solid #ffffff;
            border-bottom: 2px solid #ffffff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.202);
            overflow: hidden;
        }

        .video-frame iframe {
            width: 100%;
            height: 100%;
        }

        .main {
            margin-top: 90px;
            position: absolute;
            top: 50%;
            left: 50%;
            background-color: #FFFFFF;
            transform: translate(-50%, -50%);
            padding: 60px 20px 20px;
            padding-bottom: 200px;
            border-radius: 40px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.202);
            width: 800px;
            height: 800px;
            size: fixed;
            text-align: center;
        }

        .main p {
            margin-bottom: 450px;
            color: #000000;
        }

        /*swift pdf button*/
        .bottom-button {
            position: fixed;
            bottom: 10px;
            right: 10px;
            width: 100px;
            padding: 8px;
            box-sizing: border-box;
            border-radius: 40px;
            background-color: #7c817c;
            color: white;
            cursor: pointer;
        }

        /*input pop up background */
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 450px;
            top: 0;
            width: 60%;
            height: 100%;
            overflow: auto;
            background-color: hsla(0, 0%, 100%, 0);
            padding-top: 60px;
        }

        /*input pop up*/
        .modal-content {
            background-color: #A0B9FA;
            margin: 5% auto;
            padding: 40px;
            border: 1px solid #ffffffac;
            width: 80%;
            border-radius: 40px;

        }

        /* Style for the file input in the modal */
        .modal-content input[type="file"] {
            margin-top: 10px;
        }

        /* Style for the file input in the modal */
        .modal-content input[type="file"] {
            margin-top: 10px;
        }

        /* Style for the buttons in the modal */
        .modal-content button {
            margin-top: 10px;
            padding: 8px;
            border-radius: 5px;
            cursor: pointer;
        }

        /*input save button*/
        .modal-content button.save {
            background-color: #ffffff;
            border-radius: 5px;
            color: black;
        }

        /*input discard button*/
        .modal-content button.discard {
            background-color: #FFFFFF;
            border-radius: 5px;
            color: black;
        }

        /*input pop up close buttton*/
        .close {
            color: #000000;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        #noteModal {
            position: absolute;
            left: 170px;
            right: 0px;
            bottom: 0;
            width: 100%;
            background-color: #fefefe00;
            padding: 50px;
            z-index: 2;
            display: none;
        }

        #noteModalContent {
            position: relative;
        }

        #noteModalContent textarea {
            width: 80%;
            height: 100px;
            box-sizing: border-box;
            border-radius: 10px;
        }

        #noteModalContent button {
            margin-top: 10px;
            padding: 8px;
            border-radius: 4px;
            cursor: pointer;
        }

        .close-note-modal {
            color: #000000;
            position: absolute;
            bottom: 70%;
            left: 83%;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close-note-modal:hover,
        .close-note-modal:focus {
            color: rgba(255, 0, 0, 0.673);
            text-decoration: none;
            cursor: pointer;
        }

        .curtain {
            position: fixed;
            top: 48px;
            top: 48px;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 0;
            background-color: #CED9FF;
            border-radius: 10px;
            overflow: hidden;
            transition: 0.5s;
            z-index: 2;
            padding: 17px;
            box-sizing: border-box;
        }


        .pull-down-button {
            cursor: pointer;
            position: fixed;
            color: #000000;
            top: 65px;
            right: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 0px;
            padding: 10 10px;
        }
    </style>
</head>

<body>
    <ul>
        <li><a th:href="@{notes}">Notes</a></li>
        <li><a th:href="@{flashcard}">FlashCard</a></li>
        <li><a th:href="@{studyroom}">Study Room</a></li>
        <li><a th:href="@{dashboard}">Dashboard</a></li>
    </ul>

    <!-- Sidebar -->
    <div id="mySidebar" class="sidebar">
        <input id="fileInput" type="text" placeholder="Untitled">
        <a href="javascript:void(0);" onclick="openUploadModal()">Upload File</a>
        <a href="javascript:void(0);" onclick="openUploadModal()">Upload Song</a>
        <a href="javascript:void(0);" onclick="toggleCurtain()">Set timer</a>
        <a href="javascript:void(0);" onclick="toggleBreakCurtain()">Set breaktime</a>
        <a href="javascript:void(0);" onclick="openNoteModal()">Take note</a>
    </div>

    <!-- Main Content Container -->
    <div class="main">
        <p id="fileInputText">Some Pdf/note/docs</p>
        <input id="centerInputBox" type="file" style="display: none;">
    </div>

    <!-- Button to switch PDF -->
    <div class="bottom-button" onclick="changePDF('new_pdf_url')">Switch PDF</div>

    <!-- Video frame -->
    <div class="video-frame">
        <iframe width="300" height="200" src="https://www.youtube.com/embed/your_video_id" frameborder="0"
            allowfullscreen></iframe>
    </div>

    <!-- Modal -->
    <div id="uploadModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeUploadModal()">&times;</span>
            <p>Upload file</p>
            <!-- File input in the modal -->
            <input type="file" id="fileInputInModal">
            <!-- Save and Discard buttons -->
            <button class="save" onclick="saveUploadedFile()">Save</button>
            <button class="discard" onclick="closeUploadedFile()">Cancel</button>
        </div>
    </div>

    <div id="noteModal">
        <div id="noteModalContent">
            <span class="close-note-modal" onclick="closeNoteModal()">&times;</span>
            <label for="noteInput">Take a note:</label>
            <textarea id="noteInput"></textarea>
            <button class="save" onclick="saveNote()">Save</button>
        </div>
    </div>

    <div class="curtain" id="toDoCurtain">
        <br>
        <button onclick="toggleCurtain()">Toggle Timer</button>
    </div>

    <div class="pull-down-button" onclick="toggleCurtain()">Time</div>

    <script>
        let timerInterval;
        let breakTimerInterval;

        function startTimer() {
            let seconds = 0;
            timerInterval = setInterval(function () {
                seconds++;
                updateCurtainTime(formatTime(seconds));
            }, 1000);
        }

        function startBreakTimer() {
            let seconds = 0;
            breakTimerInterval = setInterval(function () {
                seconds++;
                updateCurtainTime(formatTime(seconds));
            }, 1000);
        }

        function stopTimer() {
            clearInterval(timerInterval);
            clearInterval(breakTimerInterval);
        }

        function updateCurtainTime(time) {
            document.getElementById('toDoCurtain').innerText = time;
        }

        function formatTime(seconds) {
            let hours = Math.floor(seconds / 3600);
            let minutes = Math.floor((seconds % 3600) / 60);
            let remainingSeconds = seconds % 60;

            return `${pad(hours)}:${pad(minutes)}:${pad(remainingSeconds)}`;
        }

        function pad(number) {
            return (number < 10 ? '0' : '') + number;
        }

        function toggleCurtain() {
            if (timerInterval) {
                stopTimer();
            } else {
                startTimer();
            }
        }

        function toggleBreakCurtain() {
            if (breakTimerInterval) {
                stopTimer();
            } else {
                startBreakTimer();
            }
        }

        // Other existing functions
        function changePDF(newPdfUrl) {
            document.getElementById('pdfViewer').src = newPdfUrl;
        }

        function openUploadModal() {
            document.getElementById('uploadModal').style.display = 'block';
        }

        function closeUploadModal() {
            document.getElementById('uploadModal').style.display = 'none';
        }

        function saveUploadedFile() {
            alert('File saved!');
            closeUploadModal();
        }

        function openNoteModal() {
            document.getElementById('noteModal').style.display = 'block';
        }

        function saveNote() {
            var noteValue = document.getElementById('noteInput').value;
            alert('Note saved: ' + noteValue);
            closeNoteModal();
        }

        function openNoteModalFromSidebar() {
            openNoteModal();
        }

        function closeNoteModal() {
            document.getElementById('noteModal').style.display = 'none';
        }
    </script>
</body>

</html>